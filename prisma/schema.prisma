// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Products {
  productID    Int    @id @default(autoincrement())
  productName  String @db.VarChar(50)
  productPrice Float
  productSize  String @db.VarChar(20)
  orderItems OrderItems[]
}

model Customers {
  customerID        Int    @id @default(autoincrement())
  customerLastName  String @unique @db.VarChar(50)
  customerFirstName String @db.VarChar(50)
  phoneNumber       String @db.VarChar(20)
  email             String @db.VarChar(100)
  password          String @db.VarChar(300)
  role              String @db.VarChar(20) @default("USER")
  username          String @db.VarChar(40) @unique
  orders Orders[]
}

model Orders {
  orderID       Int      @id @default(autoincrement())
  customer Customers @relation(fields: [customerID], references:[customerID])
  customerID    Int 
  OrderDate     DateTime @default("2020-12-31T21:07:14-05:00")
  paymentDate   DateTime @default("2020-12-31T21:07:14-05:00")
  hasCheckedOut Boolean  @default(false)
  orderItems OrderItems[]
}

model OrderItems {
  orderItemID Int   @id @default(autoincrement())
  product Products @relation(fields: [productId], references: [productID])
  productId   Int
  quantity    Float
  price       Float
  customerID  Int   @default(0)
  order Orders @relation(fields: [orderID], references: [orderID])
  orderID Int
}
